{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'pets/style.css' %}">
    <title>{% if evento %}Editar Evento{% else %}Adicionar Evento{% endif %}</title>
</head>
<body>
    <main class="form-container">
        <h1>{% if evento %}EDITAR EVENTO{% else %}ADICIONAR EVENTO{% endif %}</h1>
        <h2 style="font-size: 1.2rem; color: #555; margin-top: -20px; margin-bottom: 30px;">para {{ pet.nome }}</h2>

        {% if error_message %}
            <p style="color: red; font-weight: bold; margin-bottom: 20px;">{{ error_message }}</p>
        {% endif %}

        <form method="post">
            {% csrf_token %}
            <div class="manual-form">
                <p>
                    <label for="id_tipo">Tipo de Evento:</label>
                    <select name="tipo" id="id_tipo" required>
                        {% for value, display_text in tipos_evento %}
                            <option value="{{ value }}" {% if evento.tipo == value %}selected{% endif %}>
                                {{ display_text }}
                            </option>
                        {% endfor %}
                    </select>
                </p>
                <p>
                    <label for="id_data">Data do Evento:</label>
                    <input type="date" name="data" id="id_data" value="{{ evento.data|date:'Y-m-d'|default:'' }}" required>
                </p>
                <p>
                    <label for="id_observacoes">Observações (opcional):</label>
                    <textarea name="observacoes" id="id_observacoes" rows="4">{{ evento.observacoes|default:'' }}</textarea>
                </p>
            </div>
            <button type="submit">{% if evento %}Salvar Alterações{% else %}Adicionar{% endif %}</button>
        </form>
        <a class="back-link" href="{% url 'evento_list' pet.pk %}">Voltar</a>
    </main>
</body>
</html>